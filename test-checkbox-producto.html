<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Checkbox - Solicitar Nombre del Producto</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #1f2937;
            color: white;
        }
        .container {
            background: #374151;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        .checkbox-container {
            background: #4b5563;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }
        .checkbox {
            width: 20px;
            height: 20px;
            accent-color: #3b82f6;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .enabled {
            background: #065f46;
            color: #10b981;
        }
        .disabled {
            background: #7f1d1d;
            color: #f87171;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #6b7280;
            border-radius: 8px;
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #2563eb;
        }
        .logs {
            background: #000;
            color: #0f0;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            max-height: 200px;
            overflow-y: auto;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Test Checkbox - Solicitar Nombre del Producto</h1>
        
        <p>Esta p√°gina prueba la funcionalidad del checkbox que no est√° funcionando en la aplicaci√≥n m√≥vil.</p>

        <!-- Reproducir el checkbox exacto de la aplicaci√≥n -->
        <div class="checkbox-container">
            <label class="checkbox-label">
                <input
                    type="checkbox"
                    id="requestProductName"
                    class="checkbox"
                />
                <div>
                    <span style="font-weight: bold;">Solicitar nombre del producto</span>
                    <p style="margin: 5px 0 0 0; font-size: 14px; color: #9ca3af;">
                        Cuando est√© marcado, se solicitar√° un nombre opcional para cada c√≥digo escaneado
                    </p>
                </div>
            </label>
        </div>

        <!-- Estado actual -->
        <div id="status" class="status disabled">
            ‚ùå Estado: DESHABILITADO
        </div>

        <!-- Secci√≥n de pruebas -->
        <div class="test-section">
            <h3>üß™ Pruebas de Funcionalidad</h3>
            <button onclick="testToggle()">üîÑ Toggle Program√°tico</button>
            <button onclick="simulateClick()">üëÜ Simular Click</button>
            <button onclick="checkState()">üîç Verificar Estado</button>
            <button onclick="clearLogs()">üóëÔ∏è Limpiar Logs</button>
        </div>

        <!-- Logs -->
        <div class="logs" id="logs">
            [Sistema iniciado] Checkbox test cargado...<br>
        </div>

        <!-- Instrucciones -->
        <div class="test-section">
            <h3>üìã Instrucciones de Prueba</h3>
            <ol>
                <li><strong>Click manual:</strong> Haz click directamente en el checkbox o texto</li>
                <li><strong>Toggle program√°tico:</strong> Usa el bot√≥n "Toggle Program√°tico"</li>
                <li><strong>Verificar estado:</strong> Observa el cambio de estado arriba</li>
                <li><strong>Revisar logs:</strong> Mira los eventos registrados abajo</li>
            </ol>
            
            <div style="margin-top: 15px; padding: 10px; background: #fbbf24; color: #92400e; border-radius: 5px;">
                <strong>‚ö†Ô∏è Si el checkbox no responde aqu√≠:</strong> El problema est√° en el CSS o JavaScript del navegador.
                <br><strong>Si funciona aqu√≠ pero no en la app:</strong> El problema est√° en React o alg√∫n event handler.
            </div>
        </div>
    </div>

    <script>
        const checkbox = document.getElementById('requestProductName');
        const status = document.getElementById('status');
        const logs = document.getElementById('logs');

        let requestProductName = false;

        function addLog(message) {
            const timestamp = new Date().toLocaleTimeString();
            logs.innerHTML += `[${timestamp}] ${message}<br>`;
            logs.scrollTop = logs.scrollHeight;
        }

        function updateStatus() {
            if (requestProductName) {
                status.className = 'status enabled';
                status.textContent = '‚úÖ Estado: HABILITADO - Se solicitar√° nombre del producto';
            } else {
                status.className = 'status disabled';
                status.textContent = '‚ùå Estado: DESHABILITADO - No se solicitar√° nombre del producto';
            }
        }

        // Event listener para el checkbox
        checkbox.addEventListener('change', function(e) {
            requestProductName = e.target.checked;
            addLog(`üìã Checkbox cambiado: ${requestProductName ? 'MARCADO' : 'DESMARCADO'}`);
            updateStatus();
        });

        // Tambi√©n escuchar clicks directos
        checkbox.addEventListener('click', function(e) {
            addLog(`üëÜ Click detectado en checkbox`);
        });

        // Funciones de prueba
        function testToggle() {
            requestProductName = !requestProductName;
            checkbox.checked = requestProductName;
            addLog(`üîÑ Toggle program√°tico: ${requestProductName ? 'ACTIVADO' : 'DESACTIVADO'}`);
            updateStatus();
        }

        function simulateClick() {
            addLog(`üé≠ Simulando click...`);
            checkbox.click();
        }

        function checkState() {
            addLog(`üîç Estado actual del checkbox: checked=${checkbox.checked}, variable=${requestProductName}`);
            addLog(`üîç Checkbox est√° ${checkbox.disabled ? 'DESHABILITADO' : 'HABILITADO'} para interacci√≥n`);
        }

        function clearLogs() {
            logs.innerHTML = '[Sistema reiniciado] Logs limpiados...<br>';
        }

        // Estado inicial
        updateStatus();
        addLog('‚úÖ Sistema de test iniciado correctamente');
        addLog('üìù Haz click en el checkbox para probarlo');
    </script>
</body>
</html>
